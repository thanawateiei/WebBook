@using Microsoft.AspNetCore.Session;
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor;

@{
	ViewData["Title"] = "Book Delivery";
}
@if (ViewBag.ErrorMessage != null)
{
	<script type="text/javascript">
		window.onload = function () {
			alert("@ViewBag.ErrorMessage");
		};
	</script>
}





<!--ทำการตรวจสอบว่ามีการส่ง ErrorMessage มาหรือไม่
	ถ้ามีให้แสดง Alert -->
@if (TempData["ErrorMessage"] != null)
{
	<div class="alert alert-warning">@TempData["ErrorMessage"]</div>
}
<header>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
		  integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
</header>

<style>
	.food1{
    width: auto;
    height: auto;
}
	.imgbook{
    width: auto;
    height: auto;
}
	.cardS{
    width: auto;
    height: auto;
}
</style>
@*@if (HttpContextAccessor.HttpContext.Session.GetString("UserId") == null)
	{
	<div class="text-center">
	<div class="row">
	<div class="col-lg-4 col-md-6 col-sm-12 offset-lg-4 offset-lg-3 ">
	<img class="mt-5" src="./img/login.png" width="250" />
	</div>
	</div>
	</div>
	<form asp-controller="Home" asp-action="Login" method="POST">
	<div class="text-center">
	<div class="row m-3">
	<div class="col-lg-4 col-md-6 col-sm-12 offset-lg-4 offset-lg-3 ">
	<div class="input-group">
	<span class="input-group-text">
	<i class="bi bi-person-fill"></i>
	</span>
	<input type="text" name="userEmail" id="userEmail" class="form-control"
	placeholder="Email" required autocomplete="off" />
	</div>
	<div class="input-group mt-2">
	<span class="input-group-text">
	<i class="bi bi-key-fill"></i>
	</span>
	<input type="password" name="userPass" id="userPass" class="form-control"
	placeholder="password" required autocomplete="off" />
	</div>
	</div>
	</div>
	<div class="row m-3">
	<div class="col-lg-2 col-md-3 col-sm-6 offset-lg-4 offset-lg-3 ">
	<button type="button" class="btn btn-link"> Sign up </button>
	</div>
	<div class="col-lg-2 col-md-3 col-sm-6 d-grid ">
	<button type="submit" class="btn btn-primary"> Login </button>
	</div>
	</div>
	</div>
	</form>
	}
	else
	{
	<dev class="alert alert-success">สวัสดีคุณ @HttpContextAccessor.HttpContext.Session.GetString("UserEmail")</dev>
	<dev class="alert alert-success">สวัสดีคุณ @HttpContextAccessor.HttpContext.Session.GetInt32("UserRole")</dev>
	}*@
<section>
	<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
		<div class="carousel-indicators">
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
		</div>

		<div class="carousel-inner ">
			<div class="carousel-item active ">
				<img src="img/bg.jpg" style="width:auto; max-width:500px;  max-height:640px; height:auto;" class=" mx-auto  "  alt="...">
			</div>
			<div class="carousel-item ">
				<img src="img/bg2.jpg" style="width:auto;  max-width:500px;  max-height:640px; height:auto;" class=" mx-auto  "   alt="...">
			</div>
			<div class="carousel-item">
				<img src="img/bg.jpg" style="width:auto;  max-width:500px;   max-height:640px;  height:auto;" class="mx-auto "   alt="...">
			</div>
		</div>

		<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>
</section>


<div class="container">
	<div class="pt-5">
		<div class="d-flex justify-content-between"> <!--  หนังสือใหม่ -->
		
			<h2 >หนังสือใหม่</h2>

			<a href="#">ดูทั้งหมด</a>
			
		</div>
		<div class="swiper mySwiper">
			<div class="swiper-wrapper">
				
					@foreach(var item in @ViewBag.BookNew)
					{
						
							
						var img = "img/imgbook/"+item.BookCover ;		
							
							
							<div class="swiper-slide">
								<div class="card cardS">
									<img src="@img" class="card-img-top" alt="...">
									<div class="card-body">
										<h5 class="card-title">@item.BookName</h5>
										@*<label class="card-text">
											Some quick example text 
										</label>*@
										<a href="#" class="btn btn-primary">ยืม</a>
									</div>
								</div>
							</div>
					}
			</div>
			<div class="swiper-button-next shadow"></div>
			<div class="swiper-button-prev shadow"></div>
			<div class="swiper-pagination"></div>

		</div>
	</div>
</div> <!-- END หนังสือใหม่ -->


<div class="container"> <!--  หนังสือแนะนำ -->
	<div class="pt-5">
			<div class="d-flex justify-content-between"> <!--  หนังสือแนะนำ -->
		
			<h2 >หนังสือใหม่</h2>

			<a href="#">ดูทั้งหมด</a>
			
		</div>
		<div class="swiper mySwiper">
			<div class="swiper-wrapper">
					@foreach(var item in @ViewBag.bookRecommend)
					{
						
							
						var img = "img/imgbook/"+item.BookCover ;		
							
							
							<div class="swiper-slide">
								<div class="card cardS">
									<img src="@img" class="card-img-top" alt="...">
									<div class="card-body">
										<h5 class="card-title">@item.BookName</h5>
										@*<label class="card-text">
											Some quick example text 
										</label>*@
										<a href="#" class="btn btn-primary">ยืม</a>
									</div>
								</div>
							</div>
					}
			</div>
			<div class="swiper-button-next shadow"></div>
			<div class="swiper-button-prev shadow"></div>
			<div class="swiper-pagination"></div>

		</div>
	</div>
</div><!-- END หนังสือแนะนำ -->
<br />
<br />
<br />
<br />




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
		crossorigin="anonymous"></script>
<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<!-- Initialize Swiper -->
<script>
	var swiper = new Swiper(".mySwiper", {
		slidesPerView: 1,
		spaceBetween: 20,
		pagination: {
			el: ".swiper-pagination",
			dynamicBullets: true,
		},
		navigation: {
			nextEl: ".swiper-button-next",
			prevEl: ".swiper-button-prev",
		},
		breakpoints: {
			300: {
				slidesPerView: 2
			},
			768: {
				slidesPerView: 4
			},
			1024: {
				slidesPerView: 7
			},
		},
	});
</script>